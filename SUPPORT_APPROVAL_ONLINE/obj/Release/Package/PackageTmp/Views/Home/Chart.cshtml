@model SUPPORT_APPROVAL_ONLINE.Models.ChartInfo
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    int pe1Per = 0;
    int pe1Sub = 0;
    int lcaPer = 0;
    int lcaSub = 0;
    if (Model.lcaTotal != 0)
    {
        lcaPer = Model.lcaSuccess * 100 / Model.lcaTotal;
        lcaSub = Model.lcaTotal - Model.lcaSuccess;
    }
    int mcpcPer = 0;
    int mcpcSub = 0;
    if (Model.mcpcTotal != 0)
    {
        mcpcPer = Model.mcpcSuccess * 100 / Model.mcpcTotal;
        mcpcSub = Model.mcpcTotal - Model.mcpcSuccess;
    }
    if (Model.pe1Total != 0)
    {
        pe1Per = Model.pe1Success * 100 / Model.pe1Total;
        pe1Sub = Model.pe1Total - Model.pe1Success;
    }
    int pe2Per = 0;
    int pe2Sub = 0;
    if (Model.pe2Total != 0)
    {
        pe2Per = Model.pe2Success * 100 / Model.pe2Total;
        pe2Sub = Model.pe2Total - Model.pe2Success;
    }
    int pe3Per = 0;
    int pe3Sub = 0;
    if (Model.pe3Total != 0)
    {
        pe3Per = Model.pe3Success * 100 / Model.pe3Total;
        pe3Sub = Model.pe3Total - Model.pe3Success;
    }
    int pd1Per = 0;
    int pd1Sub = 0;
    if (Model.pd1Total != 0)
    {
        pd1Per = Model.pd1Success * 100 / Model.pd1Total;
        pd1Sub = Model.pd1Total - Model.pd1Success;
    }
    int pd2Per = 0;
    int pd2Sub = 0;
    if (Model.pd2Total != 0)
    {
        pd2Per = Model.pd2Success * 100 / Model.pd2Total;
        pd2Sub = Model.pd2Total - Model.pd2Success;
    }
    int eduPer = 0;
    int eduSub = 0;
    if (Model.eduTotal != 0)
    {
        eduPer = Model.eduSuccess * 100 / Model.eduTotal;
        eduSub = Model.eduTotal - Model.eduSuccess;
    }
}
<title>Thống kê theo phòng ban</title>
<table class="table">
    <tr>
        <th style="width:20%;text-align:right"> Bộ phận</th>
        <th style="text-align:center">Biểu đồ</th>
        <th>Chưa phê duyệt</th>
    </tr>
    @if (Model.lcaTotal != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.lcaTotal)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@lcaPer%"></div>
                </div>
            </td>
            <td style="width:20%">@lcaSub/@Model.lcaTotal</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.lcaTotal)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }
    @if (Model.mcpcTotal != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.mcpcTotal)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@mcpcPer%"></div>
                </div>
            </td>
            <td style="width:20%">@mcpcSub/@Model.mcpcTotal</td>
        </tr>

    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.mcpcTotal)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>

    }
    @if (Model.pe1Total != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pe1Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@pe1Per%"></div>
                </div>
            </td>
            <td style="width:20%">@pe1Sub/@Model.pe1Total</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pe1Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }

    @if (Model.pe2Total != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pe2Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@pe2Per%"></div>
                </div>
            </td>
            <td style="width:20%">@pe2Sub/@Model.pe2Total</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pe2Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }

    @if (Model.pe3Total != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pe3Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@pe3Per%"></div>
                </div>
            </td>
            <td style="width:20%">@pe3Sub/@Model.pe3Total</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pe3Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }
    @if (Model.pd1Total != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pd1Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@pd1Per%"></div>
                </div>
            </td>
            <td style="width:20%">@pd1Sub/@Model.pd1Total</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pd1Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }
    @if (Model.pd2Total != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pd2Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@pd2Per%"></div>
                </div>
            </td>
            <td style="width:20%">@pd2Sub/@Model.pd2Total</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.pd2Total)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }
    @if (Model.eduTotal != 0)
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.eduTotal)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:@eduPer%"></div>
                </div>
            </td>
            <td style="width:20%">@eduSub/@Model.eduTotal</td>
        </tr>
    }
    else
    {
        <tr>
            <td style="width:20%;text-align:right">@Html.LabelFor(model => model.eduTotal)</td>
            <td style="width:60%">
                <div class="progress">
                    <div class="progress-bar progress-bar-warning" style="width:100%"></div>
                    <div class="progress-bar progress-bar-success" style="width:0%"></div>
                </div>
            </td>
            <td style="width:20%">0/0</td>
        </tr>
    }
</table>
